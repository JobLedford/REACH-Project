[debug] [2023-08-25T17:06:39.963Z] ----------------------------------------------------------------------
[debug] [2023-08-25T17:06:39.964Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\test\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy
[debug] [2023-08-25T17:06:39.965Z] CLI Version:   12.4.4
[debug] [2023-08-25T17:06:39.965Z] Platform:      win32
[debug] [2023-08-25T17:06:39.966Z] Node Version:  v18.16.1
[debug] [2023-08-25T17:06:39.966Z] Time:          Fri Aug 25 2023 13:06:39 GMT-0400 (Eastern Daylight Time)
[debug] [2023-08-25T17:06:39.966Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-08-25T17:06:40.039Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-08-25T17:06:40.040Z] > authorizing via signed-in user (jo6ledford6@gmail.com)
[debug] [2023-08-25T17:06:40.040Z] [iam] checking project reach-6b127 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get",null]
[debug] [2023-08-25T17:06:40.042Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions [none]
[debug] [2023-08-25T17:06:40.042Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:06:40.042Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get",null]}
[debug] [2023-08-25T17:06:41.466Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions 200
[debug] [2023-08-25T17:06:41.466Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-08-25T17:06:41.466Z] [iam] error while checking permissions, command may fail: FirebaseError: Authorization failed. This account is missing the following required permissions on project reach-6b127:

  
[debug] [2023-08-25T17:06:41.466Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/reach-6b127/serviceAccounts/reach-6b127@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-08-25T17:06:41.466Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/reach-6b127/serviceAccounts/reach-6b127@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-08-25T17:06:41.873Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/reach-6b127/serviceAccounts/reach-6b127@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-08-25T17:06:41.874Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/reach-6b127/serviceAccounts/reach-6b127@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'reach-6b127'...
[info] 
[info] i  deploying functions, extensions 
[debug] [2023-08-25T17:06:41.877Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 [none]
[debug] [2023-08-25T17:06:42.222Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 200
[debug] [2023-08-25T17:06:42.222Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 {"projectId":"reach-6b127","projectNumber":"628007090157","displayName":"REACH","name":"projects/reach-6b127","resources":{"hostingSite":"reach-6b127"},"state":"ACTIVE","etag":"1_c4236223-b131-4b10-ad5e-53327f10b924"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-08-25T17:06:42.224Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudfunctions.googleapis.com [none]
[debug] [2023-08-25T17:06:42.224Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:06:42.225Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/runtimeconfig.googleapis.com [none]
[debug] [2023-08-25T17:06:42.225Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:06:42.226Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudbuild.googleapis.com [none]
[debug] [2023-08-25T17:06:42.226Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudbuild.googleapis.com x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:06:42.227Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/artifactregistry.googleapis.com [none]
[debug] [2023-08-25T17:06:42.227Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/artifactregistry.googleapis.com x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:06:42.808Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudbuild.googleapis.com 200
[debug] [2023-08-25T17:06:42.808Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-08-25T17:06:42.836Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/runtimeconfig.googleapis.com 200
[debug] [2023-08-25T17:06:42.836Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-08-25T17:06:42.842Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudfunctions.googleapis.com 200
[debug] [2023-08-25T17:06:42.842Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-08-25T17:06:42.874Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/artifactregistry.googleapis.com 200
[debug] [2023-08-25T17:06:42.874Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-08-25T17:06:42.875Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127/adminSdkConfig [none]
[debug] [2023-08-25T17:06:43.201Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127/adminSdkConfig 200
[debug] [2023-08-25T17:06:43.201Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127/adminSdkConfig {"projectId":"reach-6b127","storageBucket":"reach-6b127.appspot.com"}
[debug] [2023-08-25T17:06:43.201Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs [none]
[debug] [2023-08-25T17:06:43.702Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs 200
[debug] [2023-08-25T17:06:43.703Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs {"configs":[{"name":"projects/reach-6b127/configs/gmail"}]}
[debug] [2023-08-25T17:06:43.703Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables [none]
[debug] [2023-08-25T17:06:44.381Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables 200
[debug] [2023-08-25T17:06:44.381Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables {"variables":[{"name":"projects/reach-6b127/configs/gmail/variables/email","updateTime":"2023-07-19T17:03:06.936123440Z"},{"name":"projects/reach-6b127/configs/gmail/variables/password","updateTime":"2023-07-19T17:03:06.383671654Z"}]}
[debug] [2023-08-25T17:06:44.381Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables/email [none]
[debug] [2023-08-25T17:06:44.383Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables/password [none]
[debug] [2023-08-25T17:06:44.757Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables/email 200
[debug] [2023-08-25T17:06:44.757Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables/email {"name":"projects/reach-6b127/configs/gmail/variables/email","updateTime":"2023-07-19T17:03:06.936123440Z","text":"jo6ledford6@gmail"}
[debug] [2023-08-25T17:06:44.796Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables/password 200
[debug] [2023-08-25T17:06:44.796Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables/password {"name":"projects/reach-6b127/configs/gmail/variables/password","updateTime":"2023-07-19T17:03:06.383671654Z","text":"Jbl928166"}
[debug] [2023-08-25T17:06:44.797Z] Validating nodejs source
[debug] [2023-08-25T17:06:46.129Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-08-25T17:06:46.129Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2023-08-25T17:06:46.130Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-08-25T17:06:46.143Z] Found firebase-functions binary at 'C:\Users\test\OneDrive\Desktop\KimNew\KimWeb\reach-1-4-all\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8006

[debug] [2023-08-25T17:06:46.610Z] Got response from /__/functions.yaml {"endpoints":{"sendEmail":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}"},"retry":false},"labels":{},"entryPoint":"sendEmail"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\test\OneDrive\Desktop\KimNew\KimWeb\reach-1-4-all\functions (65.35 KB) for uploading 
[debug] [2023-08-25T17:06:46.665Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/-/functions [none]
[debug] [2023-08-25T17:06:47.576Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/-/functions 200
[debug] [2023-08-25T17:06:47.576Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/-/functions {"functions":[{"name":"projects/reach-6b127/locations/us-central1/functions/ext-firestore-send-email-processQueue","description":"Processes document changes in the specified Cloud Firestore collection, delivers emails, and updates the document with delivery status information.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/fe71b78d37fc16b0de2f907f26b256ce4df473ca3f26ec8998de9784c0b4566c","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/reach-6b127/databases/(default)/documents/mail/{id}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processQueue","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-send-email@reach-6b127.iam.gserviceaccount.com","updateTime":"2023-07-19T19:45:09.125Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-send-email","goog-firebase-ext":"firestore-send-email","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-send-email"},"environmentVariables":{"DATABASE_INSTANCE":"","DATABASE_URL":"","DEFAULT_FROM":"noreply@email.com","EXT_INSTANCE_ID":"firestore-send-email","FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"databaseURL\":\"\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","LOCATION":"us-central1","MAIL_COLLECTION":"mail","PROJECT_ID":"reach-6b127","SMTP_CONNECTION_URI":"smtps://jo6ledford6@gmail.com@smtp-relay.brevo.com:587","STORAGE_BUCKET":"reach-6b127.appspot.com","TTL_EXPIRE_TYPE":"never","TTL_EXPIRE_VALUE":"1"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"0a107f47-0014-423b-bdc2-816ddb3fe789","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0a107f47-0014-423b-bdc2-816ddb3fe789","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/reach-6b127/locations/us-central1/functions/sendContactEmail","httpsTrigger":{"url":"https://us-central1-reach-6b127.cloudfunctions.net/sendContactEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendContactEmail","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"reach-6b127@appspot.gserviceaccount.com","updateTime":"2023-07-19T20:39:27.921Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ee8727e3a77e6b0836c74395b1f9d05c7b287b2e"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/75daf584-cca0-43a0-92c4-ed8761cc8738.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendContactEmail"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"sendEmail","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"reach-6b127@appspot.gserviceaccount.com","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ee8727e3a77e6b0836c74395b1f9d05c7b287b2e"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/75daf584-cca0-43a0-92c4-ed8761cc8738.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-08-25T17:06:47.577Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reach-6b127/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-08-25T17:06:48.140Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reach-6b127/locations/-/functions 200
[debug] [2023-08-25T17:06:48.140Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reach-6b127/locations/-/functions {}
[debug] [2023-08-25T17:06:48.143Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 [none]
[debug] [2023-08-25T17:06:48.452Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 200
[debug] [2023-08-25T17:06:48.452Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 {"projectId":"reach-6b127","projectNumber":"628007090157","displayName":"REACH","name":"projects/reach-6b127","resources":{"hostingSite":"reach-6b127"},"state":"ACTIVE","etag":"1_c4236223-b131-4b10-ad5e-53327f10b924"}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2023-08-25T17:06:48.453Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/firebaseextensions.googleapis.com [none]
[debug] [2023-08-25T17:06:48.453Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:06:48.871Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/firebaseextensions.googleapis.com 200
[debug] [2023-08-25T17:06:48.871Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/firebaseextensions.googleapis.com [omitted]
[info] +  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2023-08-25T17:06:48.872Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-08-25T17:06:48.872Z] > authorizing via signed-in user (jo6ledford6@gmail.com)
[debug] [2023-08-25T17:06:48.872Z] [iam] checking project reach-6b127 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2023-08-25T17:06:48.872Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions [none]
[debug] [2023-08-25T17:06:48.872Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:06:48.872Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2023-08-25T17:06:49.137Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions 200
[debug] [2023-08-25T17:06:49.137Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2023-08-25T17:06:49.138Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/reach-6b127/instances pageSize=100&pageToken=
[debug] [2023-08-25T17:06:49.776Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/reach-6b127/instances 200
[debug] [2023-08-25T17:06:49.776Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/reach-6b127/instances {"instances":[{"name":"projects/reach-6b127/instances/firestore-send-email","createTime":"2023-07-19T19:41:45.626493Z","updateTime":"2023-07-19T19:45:31.707159Z","state":"ACTIVE","config":{"name":"projects/reach-6b127/instances/firestore-send-email/configurations/49571003-ddf4-4bec-ac32-dbf613baa9d9","createTime":"2023-07-19T19:41:45.626493Z","source":{"name":"projects/firebaseextensions/sources/578acedc-c516-400e-9755-cd78a79f7e15","packageUri":"https://storage.googleapis.com/firebase-extensions-packages-prod/firebase-firestore-send-email-0.1.27-a06a6b10-80d3-4381-bd3d-a0eff8a5678e.zip","hash":"2ef03fa6b7c5f2c3140d872dedf967cbd02cd3ba971bd49f9d5251a0e49b1753","extensionRoot":"/","spec":{"specVersion":"v1beta","name":"firestore-send-email","version":"0.1.27","description":"Composes and sends an email based on the contents of a document written to a specified Cloud Firestore collection.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read and process added email documents."}],"resources":[{"name":"processQueue","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${param:PROJECT_ID}/databases/(default)/documents/${param:MAIL_COLLECTION}/{id}\nruntime: nodejs18\n","description":"Processes document changes in the specified Cloud Firestore collection, delivers emails, and updates the document with delivery status information.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Firebase","url":"https://firebase.google.com"},"contributors":[{"authorName":"Michael Bleigh","url":"https://github.com/mbleigh"},{"authorName":"Invertase","email":"oss@invertase.io","url":"https://github.com/invertase"}],"license":"Apache-2.0","releaseNotesUrl":"https://github.com/firebase/extensions/blob/master/firestore-send-email/CHANGELOG.md","sourceUrl":"https://github.com/firebase/extensions/tree/master/firestore-send-email","params":[{"param":"SMTP_CONNECTION_URI","label":"SMTP connection URI","type":"STRING","description":"A URI representing an SMTP server this extension can use to deliver email. Note that port 25 is blocked by Google Cloud Platform, so we recommend using port 587 for SMTP connections. If you're using the SMTPS protocol, we recommend using port 465. In order to keep passwords secure, it is recommended to omit the password from the connection string while using the `SMTP Password` field for entering secrets and passwords. Passwords and secrets should now be included in `SMTP password` field.\nSecure format:\n `smtps://username@gmail.com@smtp.gmail.com:465` (username only)\n `smtps://smtp.gmail.com:465` (No username and password)\nBackwards Compatible (less secure):\n `smtps://username@gmail.com:password@smtp.gmail.com:465`. (username and password)","required":true,"example":"smtps://username@smtp.hostname.com:465","validationRegex":"^(smtp[s]*://.*?:[0-9]+.*$)","validationErrorMessage":"Invalid SMTP connection URI. Must be in the form `smtp(s)://username:password@hostname:port` or `smtp(s)://username@hostname:port`."},{"param":"SMTP_PASSWORD","label":"SMTP password","type":"SECRET","description":"User password for the SMTP server"},{"param":"MAIL_COLLECTION","label":"Email documents collection","type":"STRING","description":"What is the path to the collection that contains the documents used to build and send the emails?","required":true,"default":"mail","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Must be a valid Cloud Firestore collection"},{"param":"DEFAULT_FROM","label":"Default FROM address","type":"STRING","description":"The email address to use as the sender's address (if it's not specified in the added email document).  You can optionally include a name with the email address (`Friendly Firebaser <foobar@example.com>`).","required":true,"example":"foobar@example.com","validationRegex":"^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$|^.*<(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})>$","validationErrorMessage":"Must be a valid email address or valid name plus email address"},{"param":"DEFAULT_REPLY_TO","label":"Default REPLY-TO address","type":"STRING","description":"The email address to use as the reply-to address (if it's not specified in the added email document)."},{"param":"USERS_COLLECTION","label":"Users collection","type":"STRING","description":"A collection of documents keyed by user UID. If the `toUids`, `ccUids`, and/or `bccUids` recipient options are used in the added email document, this extension delivers email to the `email` field based on lookups in this collection."},{"param":"TEMPLATES_COLLECTION","label":"Templates collection","type":"STRING","description":"A collection of email templates keyed by name. This extension can render an email using a [Handlebar](https://handlebarsjs.com/) template, if the template is specified in the added email document."},{"param":"TTL_EXPIRE_TYPE","label":"Firestore TTL type","type":"SELECT","description":"Do you want the firestore records to be marked with an expireAt field for a TTL policy? If \"Never\" is selected then no expireAt field will be added. Otherwise you may specify the unit of time specified by the TTL_EXPIRE_VALUE parameter. Defaults to \"Never\".","required":true,"options":[{"value":"never","label":"Never"},{"value":"hour","label":"Hour"},{"value":"day","label":"Day"},{"value":"week","label":"Week"},{"value":"month","label":"Month"},{"value":"year","label":"Year"}],"default":"never"},{"param":"TTL_EXPIRE_VALUE","label":"Firestore TTL value","type":"STRING","description":"In the units specified by TTL_EXPIRE_TYPE, how long do you want records to be ineligible for deletion by a TTL policy? This parameter requires the Firestore TTL type parameter to be set to a value other than `Never`. For example, if `Firestore TTL type` is set to `Day` then setting this parameter to `1` will specify a TTL of 1 day.","required":true,"default":"1","validationRegex":"^[1-9][0-9]*$","validationErrorMessage":"The value must be an integer value greater than zero."}],"preinstallContent":"Use this extension to render and send emails that contain the information from documents added to a specified Cloud Firestore collection.\n\nAdding a document triggers this extension to send an email built from the document's fields. The document's top-level fields specify the email sender and recipients, including `to`, `cc`, and `bcc` options (each supporting UIDs). The document's `message` field specifies the other email elements, like subject line and email body (either plaintext or HTML)\n\nHere's a basic example document write that would trigger this extension:\n\n```js\nadmin.firestore().collection('mail').add({\n  to: 'someone@example.com',\n  message: {\n    subject: 'Hello from Firebase!',\n    html: 'This is an <code>HTML</code> email body.',\n  },\n})\n```\n\nYou can also optionally configure this extension to render emails using [Handlebar](https://handlebarsjs.com/) templates. Each template is a document stored in a Cloud Firestore collection.\n\nWhen you configure this extension, you'll need to supply your **SMTP credentials for mail delivery**. Note that this extension is for use with bulk email service providers, like SendGrid, Mailgun, etc.\n\n#### Setup Google App Passwords\n\n**Google** no longer allows **Gmail** users to use their own passwords to authorize third-party apps and services. Instead, you have to use the [Sign in with App Passwords](https://support.google.com/accounts/answer/185833) service to generate a special password for each app you want to authorize. To do so:\n\n1.  Go to your [Google Account](https://myaccount.google.com/).\n2.  Select **Security**.\n3.  Under \"Signing in to Google,\" select **App Passwords**. You may need to sign in. If you don’t have this option, it might be because:\n    1.  2-Step Verification is not set up for your account.\n    2.  2-Step Verification is only set up for security keys.\n    3.  Your account is through work, school, or other organization.\n    4.  You turned on Advanced Protection.\n4.  At the bottom, choose **Select app** and choose **Other** option and then write the name of the app password (e.g. `Firebase Trigger Email from Firestore Extension`) and click **Generate**.\n5.  Follow the instructions to enter the App Password. The App Password is the 16-character code in the yellow bar on your device.\n6.  Tap **Done**.\n\nNow you can use your Google username with the generated password to authorize the extension.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've [set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n\n#### Billing\nTo install an extension, your project must be on the [Blaze (pay as you go) plan](https://firebase.google.com/pricing)\n\n- This extension uses other Firebase and Google Cloud Platform services, which have associated charges if you exceed the service’s no-cost tier:\n  - Cloud Firestore\n  - Cloud Functions (Node.js 10+ runtime. [See FAQs](https://firebase.google.com/support/faq#extensions-pricing))\n\nUsage of this extension also requires you to have SMTP credentials for mail delivery. You are responsible for any associated costs with your usage of your SMTP provider.\n\n#### Further reading & resources\n\nYou can find more information about this extension in the following articles:\n\n- [Sending Emails Using Firestore And Firebase Extensions](https://invertase.link/Y6Nu)","postinstallContent":"### See it in action\n\nYou can test out this extension right away!\n\n1.  Go to your [Cloud Firestore dashboard](https://console.firebase.google.com/project/${param:PROJECT_ID}/firestore/data) in the Firebase console.\n\n1.  If it doesn't already exist, create the collection you specified during installation: `${param:MAIL_COLLECTION}`.\n\n1.  Add a document with a `to` field and a `message` field with the following content:\n\n    ```js\n    to: ['someone@example.com'],\n    message: {\n      subject: 'Hello from Firebase!',\n      text: 'This is the plaintext section of the email body.',\n      html: 'This is the <code>HTML</code> section of the email body.',\n    }\n    ```\n\n1.  In a few seconds, you'll see a `delivery` field appear in the document. The field will update as the extension processes the email.\n\n**Note:** You can also use the [Firebase Admin SDK][admin_sdk] to add a document:\n\n```js\nadmin\n  .firestore()\n  .collection(\"${param:MAIL_COLLECTION}\")\n  .add({\n    to: \"someone@example.com\",\n    message: {\n      subject: \"Hello from Firebase!\",\n      text: \"This is the plaintext section of the email body.\",\n      html: \"This is the <code>HTML</code> section of the email body.\",\n    },\n  })\n  .then(() => console.log(\"Queued email for delivery!\"));\n```\n\n### Using this extension\n\nSee the [official documentation](https://firebase.google.com/docs/extensions/official/firestore-send-email) for information on using this extension, including advanced use cases such as using Handlebars templates and managing email delivery status.\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n\n[mail_collection]: https://console.firebase.google.com/project/_/firestore/data~2F${param:MAIL_COLLECTION}\n[admin_sdk]: https://firebase.google.com/docs/admin/setup\n[amp4email]: https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-format/\n[handlebars]: https://handlebarsjs.com/\n\n### Further reading & resources\n\nYou can find more information about this extension in the following articles:\n\n- [Sending Emails Using Firestore And Firebase Extensions](https://invertase.link/Y6Nu)","readmeContent":"# Trigger Email from Firestore\n\n**Author**: Firebase (**[https://firebase.google.com](https://firebase.google.com)**)\n\n**Description**: Composes and sends an email based on the contents of a document written to a specified Cloud Firestore collection.\n\n\n\n**Details**: Use this extension to render and send emails that contain the information from documents added to a specified Cloud Firestore collection.\n\nAdding a document triggers this extension to send an email built from the document's fields. The document's top-level fields specify the email sender and recipients, including `to`, `cc`, and `bcc` options (each supporting UIDs). The document's `message` field specifies the other email elements, like subject line and email body (either plaintext or HTML)\n\nHere's a basic example document write that would trigger this extension:\n\n```js\nadmin.firestore().collection('mail').add({\n  to: 'someone@example.com',\n  message: {\n    subject: 'Hello from Firebase!',\n    html: 'This is an <code>HTML</code> email body.',\n  },\n})\n```\n\nYou can also optionally configure this extension to render emails using [Handlebar](https://handlebarsjs.com/) templates. Each template is a document stored in a Cloud Firestore collection.\n\nWhen you configure this extension, you'll need to supply your **SMTP credentials for mail delivery**. Note that this extension is for use with bulk email service providers, like SendGrid, Mailgun, etc.\n\n#### Setup Google App Passwords\n\n**Google** no longer allows **Gmail** users to use their own passwords to authorize third-party apps and services. Instead, you have to use the [Sign in with App Passwords](https://support.google.com/accounts/answer/185833) service to generate a special password for each app you want to authorize. To do so:\n\n1.  Go to your [Google Account](https://myaccount.google.com/).\n2.  Select **Security**.\n3.  Under \"Signing in to Google,\" select **App Passwords**. You may need to sign in. If you don’t have this option, it might be because:\n    1.  2-Step Verification is not set up for your account.\n    2.  2-Step Verification is only set up for security keys.\n    3.  Your account is through work, school, or other organization.\n    4.  You turned on Advanced Protection.\n4.  At the bottom, choose **Select app** and choose **Other** option and then write the name of the app password (e.g. `Firebase Trigger Email from Firestore Extension`) and click **Generate**.\n5.  Follow the instructions to enter the App Password. The App Password is the 16-character code in the yellow bar on your device.\n6.  Tap **Done**.\n\nNow you can use your Google username with the generated password to authorize the extension.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've [set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n\n#### Billing\nTo install an extension, your project must be on the [Blaze (pay as you go) plan](https://firebase.google.com/pricing)\n\n- This extension uses other Firebase and Google Cloud Platform services, which have associated charges if you exceed the service’s no-cost tier:\n  - Cloud Firestore\n  - Cloud Functions (Node.js 10+ runtime. [See FAQs](https://firebase.google.com/support/faq#extensions-pricing))\n\nUsage of this extension also requires you to have SMTP credentials for mail delivery. You are responsible for any associated costs with your usage of your SMTP provider.\n\n#### Further reading & resources\n\nYou can find more information about this extension in the following articles:\n\n- [Sending Emails Using Firestore And Firebase Extensions](https://invertase.link/Y6Nu)\n\n\n\n**Configuration Parameters:**\n\n* Cloud Functions location: Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n* SMTP connection URI: A URI representing an SMTP server this extension can use to deliver email. Note that port 25 is blocked by Google Cloud Platform, so we recommend using port 587 for SMTP connections. If you're using the SMTPS protocol, we recommend using port 465. In order to keep passwords secure, it is recommended to omit the password from the connection string while using the `SMTP Password` field for entering secrets and passwords. Passwords and secrets should now be included in `SMTP password` field.\nSecure format:\n `smtps://username@gmail.com@smtp.gmail.com:465` (username only)\n `smtps://smtp.gmail.com:465` (No username and password)\nBackwards Compatible (less secure):\n `smtps://username@gmail.com:password@smtp.gmail.com:465`. (username and password)\n\n* SMTP password: User password for the SMTP server\n\n* Email documents collection: What is the path to the collection that contains the documents used to build and send the emails?\n\n* Default FROM address: The email address to use as the sender's address (if it's not specified in the added email document).  You can optionally include a name with the email address (`Friendly Firebaser <foobar@example.com>`).\n\n* Default REPLY-TO address: The email address to use as the reply-to address (if it's not specified in the added email document).\n\n* Users collection: A collection of documents keyed by user UID. If the `toUids`, `ccUids`, and/or `bccUids` recipient options are used in the added email document, this extension delivers email to the `email` field based on lookups in this collection.\n\n* Templates collection: A collection of email templates keyed by name. This extension can render an email using a [Handlebar](https://handlebarsjs.com/) template, if the template is specified in the added email document.\n\n* Firestore TTL type: Do you want the firestore records to be marked with an expireAt field for a TTL policy? If \"Never\" is selected then no expireAt field will be added. Otherwise you may specify the unit of time specified by the TTL_EXPIRE_VALUE parameter. Defaults to \"Never\".\n\n* Firestore TTL value: In the units specified by TTL_EXPIRE_TYPE, how long do you want records to be ineligible for deletion by a TTL policy? This parameter requires the Firestore TTL type parameter to be set to a value other than `Never`. For example, if `Firestore TTL type` is set to `Day` then setting this parameter to `1` will specify a TTL of 1 day.\n\n\n\n**Cloud Functions:**\n\n* **processQueue:** Processes document changes in the specified Cloud Firestore collection, delivers emails, and updates the document with delivery status information.\n\n\n\n**Access Required**:\n\n\n\nThis extension will operate with the following project IAM roles:\n\n* datastore.user (Reason: Allows this extension to access Cloud Firestore to read and process added email documents.)\n","displayName":"Trigger Email from Firestore","events":[{"type":"firebase.extensions.firestore-send-email.v1.onStart","description":"Occurs when the extension starts execution."},{"type":"firebase.extensions.firestore-send-email.v1.onProcessing","description":"Occurs when the extension attempts to process an email."},{"type":"firebase.extensions.firestore-send-email.v1.onRetry","description":"Occurs when the extension attempts to resend an email."},{"type":"firebase.extensions.firestore-send-email.v1.onPending","description":"Occurs when an email has a pending status."},{"type":"firebase.extensions.firestore-send-email.v1.onSuccess","description":"Occurs when the extension successfully sends an email."},{"type":"firebase.extensions.firestore-send-email.v1.onComplete","description":"Occurs when the extension completes execution."},{"type":"firebase.extensions.firestore-send-email.v1.onError","description":"Occurs when the extension fails to complete execution."}]},"fetchTime":"2023-07-12T08:13:42.022101Z","lastOperationName":"projects/firebaseextensions/operations/2fa62e55-0c74-4984-974a-0c16e0a635da","state":"ACTIVE"},"params":{"TTL_EXPIRE_TYPE":"never","TTL_EXPIRE_VALUE":"1","SMTP_CONNECTION_URI":"smtps://jo6ledford6@gmail.com@smtp-relay.brevo.com:587","MAIL_COLLECTION":"mail","DEFAULT_FROM":"noreply@email.com"},"populatedPostinstallContent":"### See it in action\n\nYou can test out this extension right away!\n\n1.  Go to your [Cloud Firestore dashboard](https://console.firebase.google.com/project/reach-6b127/firestore/data) in the Firebase console.\n\n1.  If it doesn't already exist, create the collection you specified during installation: `mail`.\n\n1.  Add a document with a `to` field and a `message` field with the following content:\n\n    ```js\n    to: ['someone@example.com'],\n    message: {\n      subject: 'Hello from Firebase!',\n      text: 'This is the plaintext section of the email body.',\n      html: 'This is the <code>HTML</code> section of the email body.',\n    }\n    ```\n\n1.  In a few seconds, you'll see a `delivery` field appear in the document. The field will update as the extension processes the email.\n\n**Note:** You can also use the [Firebase Admin SDK][admin_sdk] to add a document:\n\n```js\nadmin\n  .firestore()\n  .collection(\"mail\")\n  .add({\n    to: \"someone@example.com\",\n    message: {\n      subject: \"Hello from Firebase!\",\n      text: \"This is the plaintext section of the email body.\",\n      html: \"This is the <code>HTML</code> section of the email body.\",\n    },\n  })\n  .then(() => console.log(\"Queued email for delivery!\"));\n```\n\n### Using this extension\n\nSee the [official documentation](https://firebase.google.com/docs/extensions/official/firestore-send-email) for information on using this extension, including advanced use cases such as using Handlebars templates and managing email delivery status.\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n\n[mail_collection]: https://console.firebase.google.com/project/_/firestore/data~2Fmail\n[admin_sdk]: https://firebase.google.com/docs/admin/setup\n[amp4email]: https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-format/\n[handlebars]: https://handlebarsjs.com/\n\n### Further reading & resources\n\nYou can find more information about this extension in the following articles:\n\n- [Sending Emails Using Firestore And Firebase Extensions](https://invertase.link/Y6Nu)","extensionRef":"firebase/firestore-send-email","extensionVersion":"0.1.27","systemParams":{"firebaseextensions.v1beta.function/location":"us-central1","firebaseextensions.v1beta.function/memory":"256","firebaseextensions.v1beta.function/vpcConnectorEgressSettings":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","firebaseextensions.v1beta.function/minInstances":"0","firebaseextensions.v1beta.function/maxInstances":"3000"}},"lastOperationName":"projects/reach-6b127/operations/041d29d0-8638-43e2-9755-513a453cf6ee","serviceAccountEmail":"ext-firestore-send-email@reach-6b127.iam.gserviceaccount.com","lastOperationType":"CREATE","etag":"25ae067da04af3fd176a2054981ba5abfc9908088d6b1636fafa970d56d92966"}]}
[info] i  extensions: ensuring required API compute.googleapis.com is enabled... 
[debug] [2023-08-25T17:06:49.777Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/compute.googleapis.com [none]
[debug] [2023-08-25T17:06:49.777Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/compute.googleapis.com x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:06:50.403Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/compute.googleapis.com 200
[debug] [2023-08-25T17:06:50.403Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/compute.googleapis.com [omitted]
[info] +  extensions: required API compute.googleapis.com is enabled 
[debug] [2023-08-25T17:06:50.404Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 [none]
[debug] [2023-08-25T17:06:50.833Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 200
[debug] [2023-08-25T17:06:50.833Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 {"projectId":"reach-6b127","projectNumber":"628007090157","displayName":"REACH","name":"projects/reach-6b127","resources":{"hostingSite":"reach-6b127"},"state":"ACTIVE","etag":"1_c4236223-b131-4b10-ad5e-53327f10b924"}
[debug] [2023-08-25T17:06:50.833Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:getIamPolicy [none]
[debug] [2023-08-25T17:06:51.180Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:getIamPolicy 200
[debug] [2023-08-25T17:06:51.180Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:getIamPolicy {"version":1,"etag":"BwYA3DtNJ+Y=","bindings":[{"role":"roles/artifactregistry.serviceAgent","members":["serviceAccount:service-628007090157@gcp-sa-artifactregistry.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:628007090157@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-628007090157@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.admin","members":["serviceAccount:firebase-adminsdk-1c1ua@reach-6b127.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-628007090157@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-628007090157@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-628007090157@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/datastore.user","members":["serviceAccount:ext-firestore-send-email@reach-6b127.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:628007090157-compute@developer.gserviceaccount.com","serviceAccount:628007090157@cloudservices.gserviceaccount.com","serviceAccount:reach-6b127@appspot.gserviceaccount.com"]},{"role":"roles/eventarc.eventReceiver","members":["serviceAccount:628007090157-compute@developer.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:firebase-service-account@firebase-sa-management.iam.gserviceaccount.com","serviceAccount:service-628007090157@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-1c1ua@reach-6b127.iam.gserviceaccount.com"]},{"role":"roles/firebasemods.serviceAgent","members":["serviceAccount:service-628007090157@gcp-sa-firebasemods.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-628007090157@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-628007090157@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-1c1ua@reach-6b127.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:jo6ledford6@gmail.com"]},{"role":"roles/pubsub.serviceAgent","members":["serviceAccount:service-628007090157@gcp-sa-pubsub.iam.gserviceaccount.com"]}]}
[debug] [2023-08-25T17:06:51.181Z] Compute Service API Agent IAM policy OK
[info] The following extension instances are not listed in 'firebase.json':
	firestore-send-email (firebase/firestore-send-email@0.1.27)

[debug] [2023-08-25T17:06:55.399Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-08-25T17:06:55.399Z] > authorizing via signed-in user (jo6ledford6@gmail.com)
[debug] [2023-08-25T17:06:55.399Z] [iam] checking project reach-6b127 for permissions ["firebase.projects.get","firebaseextensions.instances.delete"]
[debug] [2023-08-25T17:06:55.399Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions [none]
[debug] [2023-08-25T17:06:55.399Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:06:55.399Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.delete"]}
[debug] [2023-08-25T17:06:55.646Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions 200
[debug] [2023-08-25T17:06:55.646Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.delete"]}
[debug] [2023-08-25T17:06:55.646Z] Checking if latest AppDeveloper TOS has been accepted by reach-6b127...
[info] i  extensions: By installing an extension instance onto a Firebase project, you accept the Firebase Extensions User Terms of Service: https://firebase.google.com/terms/extensions/user 
[debug] [2023-08-25T17:06:55.647Z] >>> [apiv2][query] GET https://firebaseextensionstos-pa.googleapis.com/v1/projects/reach-6b127/appdevtos [none]
[debug] [2023-08-25T17:06:56.357Z] <<< [apiv2][status] GET https://firebaseextensionstos-pa.googleapis.com/v1/projects/reach-6b127/appdevtos 200
[debug] [2023-08-25T17:06:56.358Z] <<< [apiv2][body] GET https://firebaseextensionstos-pa.googleapis.com/v1/projects/reach-6b127/appdevtos {"name":"projects/reach-6b127/appdevtos","lastAcceptedVersion":"v1","lastAcceptedTime":"2023-07-19T19:41:44.183152Z","latestTosVersion":"v1"}
[debug] [2023-08-25T17:06:56.358Z] User Terms of Service aready accepted on project reach-6b127.
[debug] [2023-08-25T17:06:56.359Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-08-25T17:06:56.359Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-08-25T17:06:56.924Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-08-25T17:06:56.924Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D"}
[debug] [2023-08-25T17:06:56.925Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip GoogleAccessId=service-628007090157%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D
[debug] [2023-08-25T17:06:56.925Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip [stream]
[debug] [2023-08-25T17:06:57.460Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip 200
[debug] [2023-08-25T17:06:57.460Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[debug] [2023-08-25T17:06:57.461Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/reach-6b127/billingInfo [none]
[debug] [2023-08-25T17:06:57.942Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/reach-6b127/billingInfo 200
[debug] [2023-08-25T17:06:57.942Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/reach-6b127/billingInfo {"name":"projects/reach-6b127/billingInfo","projectId":"reach-6b127","billingAccountName":"billingAccounts/01870F-404FE2-CB4EE7","billingEnabled":true}
[info] 
The following functions are found in your project but do not exist in your local source code:
	sendContactEmail(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: updating Node.js 18 (1st Gen) function sendEmail(us-central1)... 
[info] i  functions: deleting Node.js 18 (1st Gen) function sendContactEmail(us-central1)... 
[debug] [2023-08-25T17:07:04.184Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions/sendEmail updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2023-08-25T17:07:04.184Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions/sendEmail {"name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D","entryPoint":"sendEmail","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2023-08-25T17:07:04.186Z] >>> [apiv2][query] DELETE https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions/sendContactEmail [none]
[debug] [2023-08-25T17:07:04.508Z] <<< [apiv2][status] DELETE https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions/sendContactEmail 200
[debug] [2023-08-25T17:07:04.508Z] <<< [apiv2][body] DELETE https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions/sendContactEmail {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendContactEmail","type":"DELETE_FUNCTION","request":{"@type":"type.googleapis.com/google.protobuf.Empty"},"updateTime":"2023-08-25T17:07:04Z"}}
[debug] [2023-08-25T17:07:04.509Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ [none]
[debug] [2023-08-25T17:07:04.792Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ 200
[debug] [2023-08-25T17:07:04.792Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendContactEmail","type":"DELETE_FUNCTION","request":{"@type":"type.googleapis.com/google.protobuf.Empty"},"updateTime":"2023-08-25T17:07:04Z"}}
[debug] [2023-08-25T17:07:04.892Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions/sendEmail 200
[debug] [2023-08-25T17:07:04.892Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions/sendEmail {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"2","updateTime":"2023-08-25T17:07:05Z"}}
[debug] [2023-08-25T17:07:04.892Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ [none]
[debug] [2023-08-25T17:07:05.152Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ 200
[debug] [2023-08-25T17:07:05.152Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"2","updateTime":"2023-08-25T17:07:05Z"}}
[debug] [2023-08-25T17:07:05.305Z] [delete-default-us-central1-sendContactEmail] Retrying task index 0
[debug] [2023-08-25T17:07:05.305Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ [none]
[debug] [2023-08-25T17:07:05.653Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:07:05.653Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ [none]
[debug] [2023-08-25T17:07:05.655Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ 200
[debug] [2023-08-25T17:07:05.655Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendContactEmail","type":"DELETE_FUNCTION","request":{"@type":"type.googleapis.com/google.protobuf.Empty"},"updateTime":"2023-08-25T17:07:04Z"}}
[debug] [2023-08-25T17:07:06.055Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ 200
[debug] [2023-08-25T17:07:06.055Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"2","updateTime":"2023-08-25T17:07:05Z","buildId":"7fc296c2-e6c0-4d76-a58b-ffe6318e808a","buildName":"projects/628007090157/locations/us-central1/builds/7fc296c2-e6c0-4d76-a58b-ffe6318e808a"}}
[debug] [2023-08-25T17:07:06.670Z] [delete-default-us-central1-sendContactEmail] Retrying task index 0
[debug] [2023-08-25T17:07:06.670Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ [none]
[debug] [2023-08-25T17:07:06.902Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ 200
[debug] [2023-08-25T17:07:06.902Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZENvbnRhY3RFbWFpbC9sNG1vaFAyNnh0WQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendContactEmail","type":"DELETE_FUNCTION","request":{"@type":"type.googleapis.com/google.protobuf.Empty"},"updateTime":"2023-08-25T17:07:07Z"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[info] +  functions[sendContactEmail(us-central1)] Successful delete operation. 
[debug] [2023-08-25T17:07:07.061Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:07:07.061Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ [none]
[debug] [2023-08-25T17:07:07.330Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ 200
[debug] [2023-08-25T17:07:07.330Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"2","updateTime":"2023-08-25T17:07:05Z","buildId":"7fc296c2-e6c0-4d76-a58b-ffe6318e808a","buildName":"projects/628007090157/locations/us-central1/builds/7fc296c2-e6c0-4d76-a58b-ffe6318e808a"}}
[debug] [2023-08-25T17:07:09.341Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:07:09.342Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ [none]
[debug] [2023-08-25T17:07:09.724Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ 200
[debug] [2023-08-25T17:07:09.724Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"2","updateTime":"2023-08-25T17:07:05Z","buildId":"7fc296c2-e6c0-4d76-a58b-ffe6318e808a","buildName":"projects/628007090157/locations/us-central1/builds/7fc296c2-e6c0-4d76-a58b-ffe6318e808a"}}
[debug] [2023-08-25T17:07:13.727Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:07:13.728Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ [none]
[debug] [2023-08-25T17:07:14.082Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ 200
[debug] [2023-08-25T17:07:14.082Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"2","updateTime":"2023-08-25T17:07:05Z","buildId":"7fc296c2-e6c0-4d76-a58b-ffe6318e808a","buildName":"projects/628007090157/locations/us-central1/builds/7fc296c2-e6c0-4d76-a58b-ffe6318e808a"}}
[debug] [2023-08-25T17:07:22.085Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:07:22.085Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ [none]
[debug] [2023-08-25T17:07:22.474Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ 200
[debug] [2023-08-25T17:07:22.474Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"2","updateTime":"2023-08-25T17:07:05Z","buildId":"7fc296c2-e6c0-4d76-a58b-ffe6318e808a","buildName":"projects/628007090157/locations/us-central1/builds/7fc296c2-e6c0-4d76-a58b-ffe6318e808a"}}
[debug] [2023-08-25T17:07:32.476Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:07:32.477Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ [none]
[debug] [2023-08-25T17:07:32.722Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ 200
[debug] [2023-08-25T17:07:32.722Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"2","updateTime":"2023-08-25T17:07:05Z","buildId":"7fc296c2-e6c0-4d76-a58b-ffe6318e808a","buildName":"projects/628007090157/locations/us-central1/builds/7fc296c2-e6c0-4d76-a58b-ffe6318e808a"}}
[debug] [2023-08-25T17:07:42.730Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:07:42.730Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ [none]
[debug] [2023-08-25T17:07:43.081Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ 200
[debug] [2023-08-25T17:07:43.081Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"2","updateTime":"2023-08-25T17:07:05Z","buildId":"7fc296c2-e6c0-4d76-a58b-ffe6318e808a","buildName":"projects/628007090157/locations/us-central1/builds/7fc296c2-e6c0-4d76-a58b-ffe6318e808a"}}
[debug] [2023-08-25T17:07:53.093Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:07:53.093Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ [none]
[debug] [2023-08-25T17:07:53.439Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ 200
[debug] [2023-08-25T17:07:53.439Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"2","updateTime":"2023-08-25T17:07:05Z","buildId":"7fc296c2-e6c0-4d76-a58b-ffe6318e808a","sourceToken":"71da98b9-1ef5-4a70-a246-909aa159ae26","buildName":"projects/628007090157/locations/us-central1/builds/7fc296c2-e6c0-4d76-a58b-ffe6318e808a"}}
[debug] [2023-08-25T17:07:53.439Z] Got source token 71da98b9-1ef5-4a70-a246-909aa159ae26 for region us-central1
[debug] [2023-08-25T17:08:03.446Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:08:03.446Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ [none]
[debug] [2023-08-25T17:08:03.727Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ 200
[debug] [2023-08-25T17:08:03.727Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL0RIQm1JbVU1d1RJ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/987ad07f-e2f7-463b-a7a6-03bb5e0decf9.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985017&Signature=FT%2FPmwgbrGcrqPY3byrUynNmr4c18UeaZ9bVtrYARC953waOcVwf%2Fshpz1QTd%2FqjIJCPHbviv0i2rhCAhY80J398R%2F%2FZq%2BiM8hFaD8Yn5eXQ6ydVK%2FtNLwjtiVO%2FdxK%2FDOiAKu9Wo6Q1byd7D5Uv0SUPukq15fb42APkamVW4v3MrHQLJrgTIT%2Fbpw4ZZ05JPJ5PENRLS1N5vjo%2B9Df0UBM%2FYilmL8%2B5W6w6vMYyXk%2BLA6XELMxC0mceinxVQj4NZEauVVN8gDdtfTlyq3og5X9zw8S9nKBaVTN3hjlLzDrr%2BBkowbrrVL4B%2BfDKCVJuWgGq1PuQF9flL9H6ouULCA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"2","updateTime":"2023-08-25T17:08:00Z","buildId":"7fc296c2-e6c0-4d76-a58b-ffe6318e808a","sourceToken":"71da98b9-1ef5-4a70-a246-909aa159ae26","buildName":"projects/628007090157/locations/us-central1/builds/7fc296c2-e6c0-4d76-a58b-ffe6318e808a"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'axios'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1077:15)\n    at Module._load (node:internal/modules/cjs/loader:922:27)\n    at Module.require (node:internal/modules/cjs/loader:1143:19)\n    at require (node:internal/modules/cjs/helpers:110:18)\n    at Object.<anonymous> (/workspace/index.js:3:15)\n    at Module._compile (node:internal/modules/cjs/loader:1256:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1310:10)\n    at Module.load (node:internal/modules/cjs/loader:1119:32)\n    at Module._load (node:internal/modules/cjs/loader:960:12)\n    at Module.require (node:internal/modules/cjs/loader:1143:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2023-08-25T17:08:03.728Z] Got source token 71da98b9-1ef5-4a70-a246-909aa159ae26 for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module 'axios'
Require stack:
- /workspace/index.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1077:15)
    at Module._load (node:internal/modules/cjs/loader:922:27)
    at Module.require (node:internal/modules/cjs/loader:1143:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/workspace/index.js:3:15)
    at Module._compile (node:internal/modules/cjs/loader:1256:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1310:10)
    at Module.load (node:internal/modules/cjs/loader:1119:32)
    at Module._load (node:internal/modules/cjs/loader:960:12)
    at Module.require (node:internal/modules/cjs/loader:1143:19)
Could not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2023-08-25T17:08:03.736Z] Total Function Deployment time: 59548
[debug] [2023-08-25T17:08:03.736Z] 2 Functions Deployed
[debug] [2023-08-25T17:08:03.736Z] 1 Functions Errored
[debug] [2023-08-25T17:08:03.736Z] 0 Function Deployments Aborted
[debug] [2023-08-25T17:08:03.736Z] Average Function Deployment time: 31133
[info] 
[info] Functions deploy had errors with the following functions:
	sendEmail(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2023-08-25T17:08:04.995Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_email [none]
[debug] [2023-08-25T17:08:04.995Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_contact_email [none]
[debug] [2023-08-25T17:08:04.996Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_contact_email%2Fcache [none]
[debug] [2023-08-25T17:08:04.996Z] >>> [apiv2][query] GET https://us.gcr.io/v2/reach-6b127/gcf/us-central1/tags/list [none]
[debug] [2023-08-25T17:08:05.461Z] <<< [apiv2][status] GET https://us.gcr.io/v2/reach-6b127/gcf/us-central1/tags/list 200
[debug] [2023-08-25T17:08:05.461Z] <<< [apiv2][body] GET https://us.gcr.io/v2/reach-6b127/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"reach-6b127/gcf/us-central1","tags":[]}
[debug] [2023-08-25T17:08:05.462Z] Could not find image for function projects/reach-6b127/locations/us-central1/functions/sendEmail
[debug] [2023-08-25T17:08:05.462Z] Could not find image for function projects/reach-6b127/locations/us-central1/functions/sendContactEmail
[debug] [2023-08-25T17:08:05.476Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_contact_email 404
[debug] [2023-08-25T17:08:05.476Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_contact_email {"error":{"code":404,"message":"Package \"projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_contact_email\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-08-25T17:08:05.485Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_email 200
[debug] [2023-08-25T17:08:05.485Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_email {"name":"projects/reach-6b127/locations/us-central1/operations/4bc54f75-7536-4a44-ae83-92ceb27126d2","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"}}
[debug] [2023-08-25T17:08:05.485Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/operations/4bc54f75-7536-4a44-ae83-92ceb27126d2 [none]
[debug] [2023-08-25T17:08:05.519Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_contact_email%2Fcache 404
[debug] [2023-08-25T17:08:05.519Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_contact_email%2Fcache {"error":{"code":404,"message":"Package \"projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_contact_email%2Fcache\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-08-25T17:08:05.864Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/operations/4bc54f75-7536-4a44-ae83-92ceb27126d2 200
[debug] [2023-08-25T17:08:05.864Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/operations/4bc54f75-7536-4a44-ae83-92ceb27126d2 {"name":"projects/reach-6b127/locations/us-central1/operations/4bc54f75-7536-4a44-ae83-92ceb27126d2","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[warn] !  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/artifacts/docker/reach-6b127/us-central1/gcf-artifacts 
[debug] [2023-08-25T17:08:05.865Z] Functions deploy failed.
[debug] [2023-08-25T17:08:05.865Z] {
  "endpoint": {
    "id": "sendEmail",
    "project": "reach-6b127",
    "region": "us-central1",
    "entryPoint": "sendEmail",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}",
      "GCLOUD_PROJECT": "reach-6b127",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/reach-6b127/locations/us-central1/functions/sendEmail"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "7883599d657af9a48148149abd4555ad6ba9dd5f"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'axios'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1077:15)\n    at Module._load (node:internal/modules/cjs/loader:922:27)\n    at Module.require (node:internal/modules/cjs/loader:1143:19)\n    at require (node:internal/modules/cjs/helpers:110:18)\n    at Object.<anonymous> (/workspace/index.js:3:15)\n    at Module._compile (node:internal/modules/cjs/loader:1256:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1310:10)\n    at Module.load (node:internal/modules/cjs/loader:1119:32)\n    at Module._load (node:internal/modules/cjs/loader:960:12)\n    at Module.require (node:internal/modules/cjs/loader:1143:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "status": 3,
    "code": 3
  }
}
[debug] [2023-08-25T17:08:06.029Z] Error: Failed to update function sendEmail in region us-central1
    at C:\Users\test\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:51:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV1Function (C:\Users\test\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:344:32)
    at async Fabricator.updateEndpoint (C:\Users\test\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:150:13)
    at async handle (C:\Users\test\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:88:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2023-08-25T17:09:12.895Z] ----------------------------------------------------------------------
[debug] [2023-08-25T17:09:12.897Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\test\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy
[debug] [2023-08-25T17:09:12.897Z] CLI Version:   12.5.2
[debug] [2023-08-25T17:09:12.898Z] Platform:      win32
[debug] [2023-08-25T17:09:12.898Z] Node Version:  v18.16.1
[debug] [2023-08-25T17:09:12.898Z] Time:          Fri Aug 25 2023 13:09:12 GMT-0400 (Eastern Daylight Time)
[debug] [2023-08-25T17:09:12.898Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-08-25T17:09:12.959Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-08-25T17:09:12.959Z] > authorizing via signed-in user (jo6ledford6@gmail.com)
[debug] [2023-08-25T17:09:12.959Z] [iam] checking project reach-6b127 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get",null]
[debug] [2023-08-25T17:09:12.961Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions [none]
[debug] [2023-08-25T17:09:12.961Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:09:12.962Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get",null]}
[debug] [2023-08-25T17:09:13.272Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions 200
[debug] [2023-08-25T17:09:13.272Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-08-25T17:09:13.272Z] [iam] error while checking permissions, command may fail: FirebaseError: Authorization failed. This account is missing the following required permissions on project reach-6b127:

  
[debug] [2023-08-25T17:09:13.273Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/reach-6b127/serviceAccounts/reach-6b127@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-08-25T17:09:13.273Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/reach-6b127/serviceAccounts/reach-6b127@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-08-25T17:09:13.526Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/reach-6b127/serviceAccounts/reach-6b127@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-08-25T17:09:13.526Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/reach-6b127/serviceAccounts/reach-6b127@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'reach-6b127'...
[info] 
[info] i  deploying functions, extensions 
[debug] [2023-08-25T17:09:13.530Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 [none]
[debug] [2023-08-25T17:09:15.043Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 200
[debug] [2023-08-25T17:09:15.043Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 {"projectId":"reach-6b127","projectNumber":"628007090157","displayName":"REACH","name":"projects/reach-6b127","resources":{"hostingSite":"reach-6b127"},"state":"ACTIVE","etag":"1_c4236223-b131-4b10-ad5e-53327f10b924"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-08-25T17:09:15.045Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudfunctions.googleapis.com [none]
[debug] [2023-08-25T17:09:15.045Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:09:15.046Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/runtimeconfig.googleapis.com [none]
[debug] [2023-08-25T17:09:15.046Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:09:15.047Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudbuild.googleapis.com [none]
[debug] [2023-08-25T17:09:15.047Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudbuild.googleapis.com x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:09:15.047Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/artifactregistry.googleapis.com [none]
[debug] [2023-08-25T17:09:15.047Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/artifactregistry.googleapis.com x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:09:15.507Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/runtimeconfig.googleapis.com 200
[debug] [2023-08-25T17:09:15.507Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-08-25T17:09:15.508Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudfunctions.googleapis.com 200
[debug] [2023-08-25T17:09:15.508Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-08-25T17:09:15.512Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/artifactregistry.googleapis.com 200
[debug] [2023-08-25T17:09:15.512Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-08-25T17:09:15.513Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudbuild.googleapis.com 200
[debug] [2023-08-25T17:09:15.513Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-08-25T17:09:15.513Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127/adminSdkConfig [none]
[debug] [2023-08-25T17:09:15.861Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127/adminSdkConfig 200
[debug] [2023-08-25T17:09:15.861Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127/adminSdkConfig {"projectId":"reach-6b127","storageBucket":"reach-6b127.appspot.com"}
[debug] [2023-08-25T17:09:15.861Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs [none]
[debug] [2023-08-25T17:09:16.536Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs 200
[debug] [2023-08-25T17:09:16.536Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs {"configs":[{"name":"projects/reach-6b127/configs/gmail"}]}
[debug] [2023-08-25T17:09:16.536Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables [none]
[debug] [2023-08-25T17:09:16.960Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables 200
[debug] [2023-08-25T17:09:16.960Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables {"variables":[{"name":"projects/reach-6b127/configs/gmail/variables/email","updateTime":"2023-07-19T17:03:06.936123440Z"},{"name":"projects/reach-6b127/configs/gmail/variables/password","updateTime":"2023-07-19T17:03:06.383671654Z"}]}
[debug] [2023-08-25T17:09:16.960Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables/email [none]
[debug] [2023-08-25T17:09:16.962Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables/password [none]
[debug] [2023-08-25T17:09:17.325Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables/password 200
[debug] [2023-08-25T17:09:17.325Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables/password {"name":"projects/reach-6b127/configs/gmail/variables/password","updateTime":"2023-07-19T17:03:06.383671654Z","text":"Jbl928166"}
[debug] [2023-08-25T17:09:17.340Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables/email 200
[debug] [2023-08-25T17:09:17.340Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/reach-6b127/configs/gmail/variables/email {"name":"projects/reach-6b127/configs/gmail/variables/email","updateTime":"2023-07-19T17:03:06.936123440Z","text":"jo6ledford6@gmail"}
[debug] [2023-08-25T17:09:17.341Z] Validating nodejs source
[debug] [2023-08-25T17:09:18.690Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-08-25T17:09:18.690Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2023-08-25T17:09:18.691Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-08-25T17:09:18.705Z] Found firebase-functions binary at 'C:\Users\test\OneDrive\Desktop\KimNew\KimWeb\reach-1-4-all\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8178

[debug] [2023-08-25T17:09:19.153Z] Got response from /__/functions.yaml {"endpoints":{"sendEmail":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}"},"retry":false},"labels":{},"entryPoint":"sendEmail"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\test\OneDrive\Desktop\KimNew\KimWeb\reach-1-4-all\functions (65.35 KB) for uploading 
[debug] [2023-08-25T17:09:19.205Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/-/functions [none]
[debug] [2023-08-25T17:09:19.773Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/-/functions 200
[debug] [2023-08-25T17:09:19.773Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/-/functions {"functions":[{"name":"projects/reach-6b127/locations/us-central1/functions/ext-firestore-send-email-processQueue","description":"Processes document changes in the specified Cloud Firestore collection, delivers emails, and updates the document with delivery status information.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/fe71b78d37fc16b0de2f907f26b256ce4df473ca3f26ec8998de9784c0b4566c","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/reach-6b127/databases/(default)/documents/mail/{id}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processQueue","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-send-email@reach-6b127.iam.gserviceaccount.com","updateTime":"2023-07-19T19:45:09.125Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-send-email","goog-firebase-ext":"firestore-send-email","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-send-email"},"environmentVariables":{"DATABASE_INSTANCE":"","DATABASE_URL":"","DEFAULT_FROM":"noreply@email.com","EXT_INSTANCE_ID":"firestore-send-email","FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"databaseURL\":\"\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","LOCATION":"us-central1","MAIL_COLLECTION":"mail","PROJECT_ID":"reach-6b127","SMTP_CONNECTION_URI":"smtps://jo6ledford6@gmail.com@smtp-relay.brevo.com:587","STORAGE_BUCKET":"reach-6b127.appspot.com","TTL_EXPIRE_TYPE":"never","TTL_EXPIRE_VALUE":"1"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"0a107f47-0014-423b-bdc2-816ddb3fe789","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0a107f47-0014-423b-bdc2-816ddb3fe789","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"sendEmail","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"reach-6b127@appspot.gserviceaccount.com","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ee8727e3a77e6b0836c74395b1f9d05c7b287b2e"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/75daf584-cca0-43a0-92c4-ed8761cc8738.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-08-25T17:09:19.774Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/reach-6b127/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-08-25T17:09:20.395Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/reach-6b127/locations/-/functions 200
[debug] [2023-08-25T17:09:20.395Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/reach-6b127/locations/-/functions {}
[debug] [2023-08-25T17:09:20.397Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 [none]
[debug] [2023-08-25T17:09:20.771Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 200
[debug] [2023-08-25T17:09:20.771Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 {"projectId":"reach-6b127","projectNumber":"628007090157","displayName":"REACH","name":"projects/reach-6b127","resources":{"hostingSite":"reach-6b127"},"state":"ACTIVE","etag":"1_c4236223-b131-4b10-ad5e-53327f10b924"}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2023-08-25T17:09:20.772Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/firebaseextensions.googleapis.com [none]
[debug] [2023-08-25T17:09:20.772Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:09:21.262Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/firebaseextensions.googleapis.com 200
[debug] [2023-08-25T17:09:21.262Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/firebaseextensions.googleapis.com [omitted]
[info] +  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2023-08-25T17:09:21.263Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-08-25T17:09:21.263Z] > authorizing via signed-in user (jo6ledford6@gmail.com)
[debug] [2023-08-25T17:09:21.263Z] [iam] checking project reach-6b127 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2023-08-25T17:09:21.263Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions [none]
[debug] [2023-08-25T17:09:21.263Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:09:21.263Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2023-08-25T17:09:21.525Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions 200
[debug] [2023-08-25T17:09:21.525Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2023-08-25T17:09:21.525Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/reach-6b127/instances pageSize=100&pageToken=
[debug] [2023-08-25T17:09:22.027Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/reach-6b127/instances 200
[debug] [2023-08-25T17:09:22.027Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/reach-6b127/instances {"instances":[{"name":"projects/reach-6b127/instances/firestore-send-email","createTime":"2023-07-19T19:41:45.626493Z","updateTime":"2023-07-19T19:45:31.707159Z","state":"ACTIVE","config":{"name":"projects/reach-6b127/instances/firestore-send-email/configurations/49571003-ddf4-4bec-ac32-dbf613baa9d9","createTime":"2023-07-19T19:41:45.626493Z","source":{"name":"projects/firebaseextensions/sources/578acedc-c516-400e-9755-cd78a79f7e15","packageUri":"https://storage.googleapis.com/firebase-extensions-packages-prod/firebase-firestore-send-email-0.1.27-a06a6b10-80d3-4381-bd3d-a0eff8a5678e.zip","hash":"2ef03fa6b7c5f2c3140d872dedf967cbd02cd3ba971bd49f9d5251a0e49b1753","extensionRoot":"/","spec":{"specVersion":"v1beta","name":"firestore-send-email","version":"0.1.27","description":"Composes and sends an email based on the contents of a document written to a specified Cloud Firestore collection.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read and process added email documents."}],"resources":[{"name":"processQueue","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${param:PROJECT_ID}/databases/(default)/documents/${param:MAIL_COLLECTION}/{id}\nruntime: nodejs18\n","description":"Processes document changes in the specified Cloud Firestore collection, delivers emails, and updates the document with delivery status information.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Firebase","url":"https://firebase.google.com"},"contributors":[{"authorName":"Michael Bleigh","url":"https://github.com/mbleigh"},{"authorName":"Invertase","email":"oss@invertase.io","url":"https://github.com/invertase"}],"license":"Apache-2.0","releaseNotesUrl":"https://github.com/firebase/extensions/blob/master/firestore-send-email/CHANGELOG.md","sourceUrl":"https://github.com/firebase/extensions/tree/master/firestore-send-email","params":[{"param":"SMTP_CONNECTION_URI","label":"SMTP connection URI","type":"STRING","description":"A URI representing an SMTP server this extension can use to deliver email. Note that port 25 is blocked by Google Cloud Platform, so we recommend using port 587 for SMTP connections. If you're using the SMTPS protocol, we recommend using port 465. In order to keep passwords secure, it is recommended to omit the password from the connection string while using the `SMTP Password` field for entering secrets and passwords. Passwords and secrets should now be included in `SMTP password` field.\nSecure format:\n `smtps://username@gmail.com@smtp.gmail.com:465` (username only)\n `smtps://smtp.gmail.com:465` (No username and password)\nBackwards Compatible (less secure):\n `smtps://username@gmail.com:password@smtp.gmail.com:465`. (username and password)","required":true,"example":"smtps://username@smtp.hostname.com:465","validationRegex":"^(smtp[s]*://.*?:[0-9]+.*$)","validationErrorMessage":"Invalid SMTP connection URI. Must be in the form `smtp(s)://username:password@hostname:port` or `smtp(s)://username@hostname:port`."},{"param":"SMTP_PASSWORD","label":"SMTP password","type":"SECRET","description":"User password for the SMTP server"},{"param":"MAIL_COLLECTION","label":"Email documents collection","type":"STRING","description":"What is the path to the collection that contains the documents used to build and send the emails?","required":true,"default":"mail","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Must be a valid Cloud Firestore collection"},{"param":"DEFAULT_FROM","label":"Default FROM address","type":"STRING","description":"The email address to use as the sender's address (if it's not specified in the added email document).  You can optionally include a name with the email address (`Friendly Firebaser <foobar@example.com>`).","required":true,"example":"foobar@example.com","validationRegex":"^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$|^.*<(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})>$","validationErrorMessage":"Must be a valid email address or valid name plus email address"},{"param":"DEFAULT_REPLY_TO","label":"Default REPLY-TO address","type":"STRING","description":"The email address to use as the reply-to address (if it's not specified in the added email document)."},{"param":"USERS_COLLECTION","label":"Users collection","type":"STRING","description":"A collection of documents keyed by user UID. If the `toUids`, `ccUids`, and/or `bccUids` recipient options are used in the added email document, this extension delivers email to the `email` field based on lookups in this collection."},{"param":"TEMPLATES_COLLECTION","label":"Templates collection","type":"STRING","description":"A collection of email templates keyed by name. This extension can render an email using a [Handlebar](https://handlebarsjs.com/) template, if the template is specified in the added email document."},{"param":"TTL_EXPIRE_TYPE","label":"Firestore TTL type","type":"SELECT","description":"Do you want the firestore records to be marked with an expireAt field for a TTL policy? If \"Never\" is selected then no expireAt field will be added. Otherwise you may specify the unit of time specified by the TTL_EXPIRE_VALUE parameter. Defaults to \"Never\".","required":true,"options":[{"value":"never","label":"Never"},{"value":"hour","label":"Hour"},{"value":"day","label":"Day"},{"value":"week","label":"Week"},{"value":"month","label":"Month"},{"value":"year","label":"Year"}],"default":"never"},{"param":"TTL_EXPIRE_VALUE","label":"Firestore TTL value","type":"STRING","description":"In the units specified by TTL_EXPIRE_TYPE, how long do you want records to be ineligible for deletion by a TTL policy? This parameter requires the Firestore TTL type parameter to be set to a value other than `Never`. For example, if `Firestore TTL type` is set to `Day` then setting this parameter to `1` will specify a TTL of 1 day.","required":true,"default":"1","validationRegex":"^[1-9][0-9]*$","validationErrorMessage":"The value must be an integer value greater than zero."}],"preinstallContent":"Use this extension to render and send emails that contain the information from documents added to a specified Cloud Firestore collection.\n\nAdding a document triggers this extension to send an email built from the document's fields. The document's top-level fields specify the email sender and recipients, including `to`, `cc`, and `bcc` options (each supporting UIDs). The document's `message` field specifies the other email elements, like subject line and email body (either plaintext or HTML)\n\nHere's a basic example document write that would trigger this extension:\n\n```js\nadmin.firestore().collection('mail').add({\n  to: 'someone@example.com',\n  message: {\n    subject: 'Hello from Firebase!',\n    html: 'This is an <code>HTML</code> email body.',\n  },\n})\n```\n\nYou can also optionally configure this extension to render emails using [Handlebar](https://handlebarsjs.com/) templates. Each template is a document stored in a Cloud Firestore collection.\n\nWhen you configure this extension, you'll need to supply your **SMTP credentials for mail delivery**. Note that this extension is for use with bulk email service providers, like SendGrid, Mailgun, etc.\n\n#### Setup Google App Passwords\n\n**Google** no longer allows **Gmail** users to use their own passwords to authorize third-party apps and services. Instead, you have to use the [Sign in with App Passwords](https://support.google.com/accounts/answer/185833) service to generate a special password for each app you want to authorize. To do so:\n\n1.  Go to your [Google Account](https://myaccount.google.com/).\n2.  Select **Security**.\n3.  Under \"Signing in to Google,\" select **App Passwords**. You may need to sign in. If you don’t have this option, it might be because:\n    1.  2-Step Verification is not set up for your account.\n    2.  2-Step Verification is only set up for security keys.\n    3.  Your account is through work, school, or other organization.\n    4.  You turned on Advanced Protection.\n4.  At the bottom, choose **Select app** and choose **Other** option and then write the name of the app password (e.g. `Firebase Trigger Email from Firestore Extension`) and click **Generate**.\n5.  Follow the instructions to enter the App Password. The App Password is the 16-character code in the yellow bar on your device.\n6.  Tap **Done**.\n\nNow you can use your Google username with the generated password to authorize the extension.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've [set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n\n#### Billing\nTo install an extension, your project must be on the [Blaze (pay as you go) plan](https://firebase.google.com/pricing)\n\n- This extension uses other Firebase and Google Cloud Platform services, which have associated charges if you exceed the service’s no-cost tier:\n  - Cloud Firestore\n  - Cloud Functions (Node.js 10+ runtime. [See FAQs](https://firebase.google.com/support/faq#extensions-pricing))\n\nUsage of this extension also requires you to have SMTP credentials for mail delivery. You are responsible for any associated costs with your usage of your SMTP provider.\n\n#### Further reading & resources\n\nYou can find more information about this extension in the following articles:\n\n- [Sending Emails Using Firestore And Firebase Extensions](https://invertase.link/Y6Nu)","postinstallContent":"### See it in action\n\nYou can test out this extension right away!\n\n1.  Go to your [Cloud Firestore dashboard](https://console.firebase.google.com/project/${param:PROJECT_ID}/firestore/data) in the Firebase console.\n\n1.  If it doesn't already exist, create the collection you specified during installation: `${param:MAIL_COLLECTION}`.\n\n1.  Add a document with a `to` field and a `message` field with the following content:\n\n    ```js\n    to: ['someone@example.com'],\n    message: {\n      subject: 'Hello from Firebase!',\n      text: 'This is the plaintext section of the email body.',\n      html: 'This is the <code>HTML</code> section of the email body.',\n    }\n    ```\n\n1.  In a few seconds, you'll see a `delivery` field appear in the document. The field will update as the extension processes the email.\n\n**Note:** You can also use the [Firebase Admin SDK][admin_sdk] to add a document:\n\n```js\nadmin\n  .firestore()\n  .collection(\"${param:MAIL_COLLECTION}\")\n  .add({\n    to: \"someone@example.com\",\n    message: {\n      subject: \"Hello from Firebase!\",\n      text: \"This is the plaintext section of the email body.\",\n      html: \"This is the <code>HTML</code> section of the email body.\",\n    },\n  })\n  .then(() => console.log(\"Queued email for delivery!\"));\n```\n\n### Using this extension\n\nSee the [official documentation](https://firebase.google.com/docs/extensions/official/firestore-send-email) for information on using this extension, including advanced use cases such as using Handlebars templates and managing email delivery status.\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n\n[mail_collection]: https://console.firebase.google.com/project/_/firestore/data~2F${param:MAIL_COLLECTION}\n[admin_sdk]: https://firebase.google.com/docs/admin/setup\n[amp4email]: https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-format/\n[handlebars]: https://handlebarsjs.com/\n\n### Further reading & resources\n\nYou can find more information about this extension in the following articles:\n\n- [Sending Emails Using Firestore And Firebase Extensions](https://invertase.link/Y6Nu)","readmeContent":"# Trigger Email from Firestore\n\n**Author**: Firebase (**[https://firebase.google.com](https://firebase.google.com)**)\n\n**Description**: Composes and sends an email based on the contents of a document written to a specified Cloud Firestore collection.\n\n\n\n**Details**: Use this extension to render and send emails that contain the information from documents added to a specified Cloud Firestore collection.\n\nAdding a document triggers this extension to send an email built from the document's fields. The document's top-level fields specify the email sender and recipients, including `to`, `cc`, and `bcc` options (each supporting UIDs). The document's `message` field specifies the other email elements, like subject line and email body (either plaintext or HTML)\n\nHere's a basic example document write that would trigger this extension:\n\n```js\nadmin.firestore().collection('mail').add({\n  to: 'someone@example.com',\n  message: {\n    subject: 'Hello from Firebase!',\n    html: 'This is an <code>HTML</code> email body.',\n  },\n})\n```\n\nYou can also optionally configure this extension to render emails using [Handlebar](https://handlebarsjs.com/) templates. Each template is a document stored in a Cloud Firestore collection.\n\nWhen you configure this extension, you'll need to supply your **SMTP credentials for mail delivery**. Note that this extension is for use with bulk email service providers, like SendGrid, Mailgun, etc.\n\n#### Setup Google App Passwords\n\n**Google** no longer allows **Gmail** users to use their own passwords to authorize third-party apps and services. Instead, you have to use the [Sign in with App Passwords](https://support.google.com/accounts/answer/185833) service to generate a special password for each app you want to authorize. To do so:\n\n1.  Go to your [Google Account](https://myaccount.google.com/).\n2.  Select **Security**.\n3.  Under \"Signing in to Google,\" select **App Passwords**. You may need to sign in. If you don’t have this option, it might be because:\n    1.  2-Step Verification is not set up for your account.\n    2.  2-Step Verification is only set up for security keys.\n    3.  Your account is through work, school, or other organization.\n    4.  You turned on Advanced Protection.\n4.  At the bottom, choose **Select app** and choose **Other** option and then write the name of the app password (e.g. `Firebase Trigger Email from Firestore Extension`) and click **Generate**.\n5.  Follow the instructions to enter the App Password. The App Password is the 16-character code in the yellow bar on your device.\n6.  Tap **Done**.\n\nNow you can use your Google username with the generated password to authorize the extension.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've [set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n\n#### Billing\nTo install an extension, your project must be on the [Blaze (pay as you go) plan](https://firebase.google.com/pricing)\n\n- This extension uses other Firebase and Google Cloud Platform services, which have associated charges if you exceed the service’s no-cost tier:\n  - Cloud Firestore\n  - Cloud Functions (Node.js 10+ runtime. [See FAQs](https://firebase.google.com/support/faq#extensions-pricing))\n\nUsage of this extension also requires you to have SMTP credentials for mail delivery. You are responsible for any associated costs with your usage of your SMTP provider.\n\n#### Further reading & resources\n\nYou can find more information about this extension in the following articles:\n\n- [Sending Emails Using Firestore And Firebase Extensions](https://invertase.link/Y6Nu)\n\n\n\n**Configuration Parameters:**\n\n* Cloud Functions location: Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n* SMTP connection URI: A URI representing an SMTP server this extension can use to deliver email. Note that port 25 is blocked by Google Cloud Platform, so we recommend using port 587 for SMTP connections. If you're using the SMTPS protocol, we recommend using port 465. In order to keep passwords secure, it is recommended to omit the password from the connection string while using the `SMTP Password` field for entering secrets and passwords. Passwords and secrets should now be included in `SMTP password` field.\nSecure format:\n `smtps://username@gmail.com@smtp.gmail.com:465` (username only)\n `smtps://smtp.gmail.com:465` (No username and password)\nBackwards Compatible (less secure):\n `smtps://username@gmail.com:password@smtp.gmail.com:465`. (username and password)\n\n* SMTP password: User password for the SMTP server\n\n* Email documents collection: What is the path to the collection that contains the documents used to build and send the emails?\n\n* Default FROM address: The email address to use as the sender's address (if it's not specified in the added email document).  You can optionally include a name with the email address (`Friendly Firebaser <foobar@example.com>`).\n\n* Default REPLY-TO address: The email address to use as the reply-to address (if it's not specified in the added email document).\n\n* Users collection: A collection of documents keyed by user UID. If the `toUids`, `ccUids`, and/or `bccUids` recipient options are used in the added email document, this extension delivers email to the `email` field based on lookups in this collection.\n\n* Templates collection: A collection of email templates keyed by name. This extension can render an email using a [Handlebar](https://handlebarsjs.com/) template, if the template is specified in the added email document.\n\n* Firestore TTL type: Do you want the firestore records to be marked with an expireAt field for a TTL policy? If \"Never\" is selected then no expireAt field will be added. Otherwise you may specify the unit of time specified by the TTL_EXPIRE_VALUE parameter. Defaults to \"Never\".\n\n* Firestore TTL value: In the units specified by TTL_EXPIRE_TYPE, how long do you want records to be ineligible for deletion by a TTL policy? This parameter requires the Firestore TTL type parameter to be set to a value other than `Never`. For example, if `Firestore TTL type` is set to `Day` then setting this parameter to `1` will specify a TTL of 1 day.\n\n\n\n**Cloud Functions:**\n\n* **processQueue:** Processes document changes in the specified Cloud Firestore collection, delivers emails, and updates the document with delivery status information.\n\n\n\n**Access Required**:\n\n\n\nThis extension will operate with the following project IAM roles:\n\n* datastore.user (Reason: Allows this extension to access Cloud Firestore to read and process added email documents.)\n","displayName":"Trigger Email from Firestore","events":[{"type":"firebase.extensions.firestore-send-email.v1.onStart","description":"Occurs when the extension starts execution."},{"type":"firebase.extensions.firestore-send-email.v1.onProcessing","description":"Occurs when the extension attempts to process an email."},{"type":"firebase.extensions.firestore-send-email.v1.onRetry","description":"Occurs when the extension attempts to resend an email."},{"type":"firebase.extensions.firestore-send-email.v1.onPending","description":"Occurs when an email has a pending status."},{"type":"firebase.extensions.firestore-send-email.v1.onSuccess","description":"Occurs when the extension successfully sends an email."},{"type":"firebase.extensions.firestore-send-email.v1.onComplete","description":"Occurs when the extension completes execution."},{"type":"firebase.extensions.firestore-send-email.v1.onError","description":"Occurs when the extension fails to complete execution."}]},"fetchTime":"2023-07-12T08:13:42.022101Z","lastOperationName":"projects/firebaseextensions/operations/2fa62e55-0c74-4984-974a-0c16e0a635da","state":"ACTIVE"},"params":{"TTL_EXPIRE_TYPE":"never","TTL_EXPIRE_VALUE":"1","SMTP_CONNECTION_URI":"smtps://jo6ledford6@gmail.com@smtp-relay.brevo.com:587","MAIL_COLLECTION":"mail","DEFAULT_FROM":"noreply@email.com"},"populatedPostinstallContent":"### See it in action\n\nYou can test out this extension right away!\n\n1.  Go to your [Cloud Firestore dashboard](https://console.firebase.google.com/project/reach-6b127/firestore/data) in the Firebase console.\n\n1.  If it doesn't already exist, create the collection you specified during installation: `mail`.\n\n1.  Add a document with a `to` field and a `message` field with the following content:\n\n    ```js\n    to: ['someone@example.com'],\n    message: {\n      subject: 'Hello from Firebase!',\n      text: 'This is the plaintext section of the email body.',\n      html: 'This is the <code>HTML</code> section of the email body.',\n    }\n    ```\n\n1.  In a few seconds, you'll see a `delivery` field appear in the document. The field will update as the extension processes the email.\n\n**Note:** You can also use the [Firebase Admin SDK][admin_sdk] to add a document:\n\n```js\nadmin\n  .firestore()\n  .collection(\"mail\")\n  .add({\n    to: \"someone@example.com\",\n    message: {\n      subject: \"Hello from Firebase!\",\n      text: \"This is the plaintext section of the email body.\",\n      html: \"This is the <code>HTML</code> section of the email body.\",\n    },\n  })\n  .then(() => console.log(\"Queued email for delivery!\"));\n```\n\n### Using this extension\n\nSee the [official documentation](https://firebase.google.com/docs/extensions/official/firestore-send-email) for information on using this extension, including advanced use cases such as using Handlebars templates and managing email delivery status.\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n\n[mail_collection]: https://console.firebase.google.com/project/_/firestore/data~2Fmail\n[admin_sdk]: https://firebase.google.com/docs/admin/setup\n[amp4email]: https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-format/\n[handlebars]: https://handlebarsjs.com/\n\n### Further reading & resources\n\nYou can find more information about this extension in the following articles:\n\n- [Sending Emails Using Firestore And Firebase Extensions](https://invertase.link/Y6Nu)","extensionRef":"firebase/firestore-send-email","extensionVersion":"0.1.27","systemParams":{"firebaseextensions.v1beta.function/location":"us-central1","firebaseextensions.v1beta.function/memory":"256","firebaseextensions.v1beta.function/vpcConnectorEgressSettings":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","firebaseextensions.v1beta.function/minInstances":"0","firebaseextensions.v1beta.function/maxInstances":"3000"}},"lastOperationName":"projects/reach-6b127/operations/041d29d0-8638-43e2-9755-513a453cf6ee","serviceAccountEmail":"ext-firestore-send-email@reach-6b127.iam.gserviceaccount.com","lastOperationType":"CREATE","etag":"25ae067da04af3fd176a2054981ba5abfc9908088d6b1636fafa970d56d92966"}]}
[info] i  extensions: ensuring required API compute.googleapis.com is enabled... 
[debug] [2023-08-25T17:09:22.029Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/compute.googleapis.com [none]
[debug] [2023-08-25T17:09:22.029Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/compute.googleapis.com x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:09:22.666Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/compute.googleapis.com 200
[debug] [2023-08-25T17:09:22.666Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/reach-6b127/services/compute.googleapis.com [omitted]
[info] +  extensions: required API compute.googleapis.com is enabled 
[debug] [2023-08-25T17:09:22.667Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 [none]
[debug] [2023-08-25T17:09:22.983Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 200
[debug] [2023-08-25T17:09:22.983Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/reach-6b127 {"projectId":"reach-6b127","projectNumber":"628007090157","displayName":"REACH","name":"projects/reach-6b127","resources":{"hostingSite":"reach-6b127"},"state":"ACTIVE","etag":"1_c4236223-b131-4b10-ad5e-53327f10b924"}
[debug] [2023-08-25T17:09:22.983Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:getIamPolicy [none]
[debug] [2023-08-25T17:09:23.384Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:getIamPolicy 200
[debug] [2023-08-25T17:09:23.384Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:getIamPolicy {"version":1,"etag":"BwYA3DtNJ+Y=","bindings":[{"role":"roles/artifactregistry.serviceAgent","members":["serviceAccount:service-628007090157@gcp-sa-artifactregistry.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:628007090157@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-628007090157@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.admin","members":["serviceAccount:firebase-adminsdk-1c1ua@reach-6b127.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-628007090157@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-628007090157@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-628007090157@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/datastore.user","members":["serviceAccount:ext-firestore-send-email@reach-6b127.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:628007090157-compute@developer.gserviceaccount.com","serviceAccount:628007090157@cloudservices.gserviceaccount.com","serviceAccount:reach-6b127@appspot.gserviceaccount.com"]},{"role":"roles/eventarc.eventReceiver","members":["serviceAccount:628007090157-compute@developer.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:firebase-service-account@firebase-sa-management.iam.gserviceaccount.com","serviceAccount:service-628007090157@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-1c1ua@reach-6b127.iam.gserviceaccount.com"]},{"role":"roles/firebasemods.serviceAgent","members":["serviceAccount:service-628007090157@gcp-sa-firebasemods.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-628007090157@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-628007090157@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-1c1ua@reach-6b127.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:jo6ledford6@gmail.com"]},{"role":"roles/pubsub.serviceAgent","members":["serviceAccount:service-628007090157@gcp-sa-pubsub.iam.gserviceaccount.com"]}]}
[debug] [2023-08-25T17:09:23.384Z] Compute Service API Agent IAM policy OK
[info] The following extension instances are not listed in 'firebase.json':
	firestore-send-email (firebase/firestore-send-email@0.1.27)

[debug] [2023-08-25T17:10:12.663Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-08-25T17:10:12.663Z] > authorizing via signed-in user (jo6ledford6@gmail.com)
[debug] [2023-08-25T17:10:12.663Z] [iam] checking project reach-6b127 for permissions ["firebase.projects.get","firebaseextensions.instances.delete"]
[debug] [2023-08-25T17:10:12.663Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions [none]
[debug] [2023-08-25T17:10:12.663Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions x-goog-quota-user=projects/reach-6b127
[debug] [2023-08-25T17:10:12.663Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.delete"]}
[debug] [2023-08-25T17:10:12.898Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions 200
[debug] [2023-08-25T17:10:12.898Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/reach-6b127:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.delete"]}
[debug] [2023-08-25T17:10:12.898Z] Checking if latest AppDeveloper TOS has been accepted by reach-6b127...
[info] i  extensions: By installing an extension instance onto a Firebase project, you accept the Firebase Extensions User Terms of Service: https://firebase.google.com/terms/extensions/user 
[debug] [2023-08-25T17:10:12.899Z] >>> [apiv2][query] GET https://firebaseextensionstos-pa.googleapis.com/v1/projects/reach-6b127/appdevtos [none]
[debug] [2023-08-25T17:10:13.343Z] <<< [apiv2][status] GET https://firebaseextensionstos-pa.googleapis.com/v1/projects/reach-6b127/appdevtos 200
[debug] [2023-08-25T17:10:13.343Z] <<< [apiv2][body] GET https://firebaseextensionstos-pa.googleapis.com/v1/projects/reach-6b127/appdevtos {"name":"projects/reach-6b127/appdevtos","lastAcceptedVersion":"v1","lastAcceptedTime":"2023-07-19T19:41:44.183152Z","latestTosVersion":"v1"}
[debug] [2023-08-25T17:10:13.343Z] User Terms of Service aready accepted on project reach-6b127.
[debug] [2023-08-25T17:10:13.344Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-08-25T17:10:13.344Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-08-25T17:10:14.019Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-08-25T17:10:14.019Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D"}
[debug] [2023-08-25T17:10:14.020Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip GoogleAccessId=service-628007090157%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D
[debug] [2023-08-25T17:10:14.020Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip [stream]
[debug] [2023-08-25T17:10:14.819Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip 200
[debug] [2023-08-25T17:10:14.819Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[debug] [2023-08-25T17:10:14.820Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/reach-6b127/billingInfo [none]
[debug] [2023-08-25T17:10:15.146Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/reach-6b127/billingInfo 200
[debug] [2023-08-25T17:10:15.146Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/reach-6b127/billingInfo {"name":"projects/reach-6b127/billingInfo","projectId":"reach-6b127","billingAccountName":"billingAccounts/01870F-404FE2-CB4EE7","billingEnabled":true}
[info] i  functions: updating Node.js 18 (1st Gen) function sendEmail(us-central1)... 
[debug] [2023-08-25T17:10:15.151Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions/sendEmail updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2023-08-25T17:10:15.151Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions/sendEmail {"name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D","entryPoint":"sendEmail","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2023-08-25T17:10:15.794Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions/sendEmail 200
[debug] [2023-08-25T17:10:15.795Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/reach-6b127/locations/us-central1/functions/sendEmail {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"3","updateTime":"2023-08-25T17:10:15Z"}}
[debug] [2023-08-25T17:10:15.795Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr [none]
[debug] [2023-08-25T17:10:16.169Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr 200
[debug] [2023-08-25T17:10:16.170Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"3","updateTime":"2023-08-25T17:10:16Z"}}
[debug] [2023-08-25T17:10:16.678Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:10:16.678Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr [none]
[debug] [2023-08-25T17:10:17.082Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr 200
[debug] [2023-08-25T17:10:17.082Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"3","updateTime":"2023-08-25T17:10:16Z","buildId":"1190de68-e533-458d-b1bf-2eade0c7d722","buildName":"projects/628007090157/locations/us-central1/builds/1190de68-e533-458d-b1bf-2eade0c7d722"}}
[debug] [2023-08-25T17:10:18.089Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:10:18.089Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr [none]
[debug] [2023-08-25T17:10:18.454Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr 200
[debug] [2023-08-25T17:10:18.454Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"3","updateTime":"2023-08-25T17:10:16Z","buildId":"1190de68-e533-458d-b1bf-2eade0c7d722","buildName":"projects/628007090157/locations/us-central1/builds/1190de68-e533-458d-b1bf-2eade0c7d722"}}
[debug] [2023-08-25T17:10:20.460Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:10:20.461Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr [none]
[debug] [2023-08-25T17:10:20.827Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr 200
[debug] [2023-08-25T17:10:20.827Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"3","updateTime":"2023-08-25T17:10:16Z","buildId":"1190de68-e533-458d-b1bf-2eade0c7d722","buildName":"projects/628007090157/locations/us-central1/builds/1190de68-e533-458d-b1bf-2eade0c7d722"}}
[debug] [2023-08-25T17:10:24.839Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:10:24.839Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr [none]
[debug] [2023-08-25T17:10:25.185Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr 200
[debug] [2023-08-25T17:10:25.186Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"3","updateTime":"2023-08-25T17:10:16Z","buildId":"1190de68-e533-458d-b1bf-2eade0c7d722","buildName":"projects/628007090157/locations/us-central1/builds/1190de68-e533-458d-b1bf-2eade0c7d722"}}
[debug] [2023-08-25T17:10:33.200Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:10:33.201Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr [none]
[debug] [2023-08-25T17:10:33.530Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr 200
[debug] [2023-08-25T17:10:33.530Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"3","updateTime":"2023-08-25T17:10:16Z","buildId":"1190de68-e533-458d-b1bf-2eade0c7d722","buildName":"projects/628007090157/locations/us-central1/builds/1190de68-e533-458d-b1bf-2eade0c7d722"}}
[debug] [2023-08-25T17:10:43.536Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:10:43.536Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr [none]
[debug] [2023-08-25T17:10:43.909Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr 200
[debug] [2023-08-25T17:10:43.909Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"3","updateTime":"2023-08-25T17:10:16Z","buildId":"1190de68-e533-458d-b1bf-2eade0c7d722","buildName":"projects/628007090157/locations/us-central1/builds/1190de68-e533-458d-b1bf-2eade0c7d722"}}
[debug] [2023-08-25T17:10:53.916Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:10:53.916Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr [none]
[debug] [2023-08-25T17:10:54.175Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr 200
[debug] [2023-08-25T17:10:54.176Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"3","updateTime":"2023-08-25T17:10:16Z","buildId":"1190de68-e533-458d-b1bf-2eade0c7d722","buildName":"projects/628007090157/locations/us-central1/builds/1190de68-e533-458d-b1bf-2eade0c7d722"}}
[debug] [2023-08-25T17:11:04.183Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:11:04.183Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr [none]
[debug] [2023-08-25T17:11:04.551Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr 200
[debug] [2023-08-25T17:11:04.552Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"3","updateTime":"2023-08-25T17:10:16Z","buildId":"1190de68-e533-458d-b1bf-2eade0c7d722","sourceToken":"50f54617-fb22-482e-9da4-edf2fe9a392d","buildName":"projects/628007090157/locations/us-central1/builds/1190de68-e533-458d-b1bf-2eade0c7d722"}}
[debug] [2023-08-25T17:11:04.552Z] Got source token 50f54617-fb22-482e-9da4-edf2fe9a392d for region us-central1
[debug] [2023-08-25T17:11:14.559Z] [update-default-us-central1-sendEmail] Retrying task index 0
[debug] [2023-08-25T17:11:14.559Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr [none]
[debug] [2023-08-25T17:11:14.844Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr 200
[debug] [2023-08-25T17:11:14.844Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr {"name":"operations/cmVhY2gtNmIxMjcvdXMtY2VudHJhbDEvc2VuZEVtYWlsL3FsZzZZOC1OZWRr","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/reach-6b127/locations/us-central1/functions/sendEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/reach-6b127/locations/us-central1/functions/sendEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmail","updateTime":"2023-07-19T20:39:25.532Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7883599d657af9a48148149abd4555ad6ba9dd5f"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-617316908852.us-central1.cloudfunctions.appspot.com/4e18a4ca-4d12-4f1e-93cb-934e545746d8.zip?GoogleAccessId=service-628007090157@gcf-admin-robot.iam.gserviceaccount.com&Expires=1692985214&Signature=IaRIpeasfqyVCmVApk%2F1wN4OeBTa2H1N28Tn2uJormrL2qN1O1rsuoU4ryWK9PaNReqK945PUAVW4Jx1INj2elb%2BM8KC6jPHG%2Bd4vSAMFQywGe2wcbON%2FF7zsWx1ntEknJUSbIAWFhZiGRBu0jZ8krSFzllcmlZMffFJQ7%2BSsMd4mumLOTFpSr%2FIwcYcxqTiJG%2BXSwlvyzogDtw3XThP0KIki4KCRleudiRtrWfOJ6%2FG9Ct4LXnDo9GQDcDXfKP8t8LgpVB4nBJR9cD0rz8yoCLZpgKSFXWsmOjNcq3zgtf183djbUN3Xo870LOXj2KJ7SkorlDxR96OZp1F3QD9uw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}","GCLOUD_PROJECT":"reach-6b127","EVENTARC_CLOUD_EVENT_SOURCE":"projects/reach-6b127/locations/us-central1/functions/sendEmail"},"runtime":"nodejs18","buildId":"0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/628007090157/locations/us-central1/builds/0e9adcaf-ca5c-4785-ad5b-7e7b4ef22215","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"3","updateTime":"2023-08-25T17:11:05Z","buildId":"1190de68-e533-458d-b1bf-2eade0c7d722","sourceToken":"50f54617-fb22-482e-9da4-edf2fe9a392d","buildName":"projects/628007090157/locations/us-central1/builds/1190de68-e533-458d-b1bf-2eade0c7d722"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'axios'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1077:15)\n    at Module._load (node:internal/modules/cjs/loader:922:27)\n    at Module.require (node:internal/modules/cjs/loader:1143:19)\n    at require (node:internal/modules/cjs/helpers:110:18)\n    at Object.<anonymous> (/workspace/index.js:3:15)\n    at Module._compile (node:internal/modules/cjs/loader:1256:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1310:10)\n    at Module.load (node:internal/modules/cjs/loader:1119:32)\n    at Module._load (node:internal/modules/cjs/loader:960:12)\n    at Module.require (node:internal/modules/cjs/loader:1143:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2023-08-25T17:11:14.844Z] Got source token 50f54617-fb22-482e-9da4-edf2fe9a392d for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module 'axios'
Require stack:
- /workspace/index.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1077:15)
    at Module._load (node:internal/modules/cjs/loader:922:27)
    at Module.require (node:internal/modules/cjs/loader:1143:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/workspace/index.js:3:15)
    at Module._compile (node:internal/modules/cjs/loader:1256:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1310:10)
    at Module.load (node:internal/modules/cjs/loader:1119:32)
    at Module._load (node:internal/modules/cjs/loader:960:12)
    at Module.require (node:internal/modules/cjs/loader:1143:19)
Could not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2023-08-25T17:11:14.850Z] Total Function Deployment time: 59697
[debug] [2023-08-25T17:11:14.850Z] 1 Functions Deployed
[debug] [2023-08-25T17:11:14.850Z] 1 Functions Errored
[debug] [2023-08-25T17:11:14.850Z] 0 Function Deployments Aborted
[debug] [2023-08-25T17:11:14.850Z] Average Function Deployment time: 59696
[info] 
[info] Functions deploy had errors with the following functions:
	sendEmail(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2023-08-25T17:11:15.011Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_email [none]
[debug] [2023-08-25T17:11:15.012Z] >>> [apiv2][query] GET https://us.gcr.io/v2/reach-6b127/gcf/us-central1/tags/list [none]
[debug] [2023-08-25T17:11:15.384Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_email 200
[debug] [2023-08-25T17:11:15.385Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/repositories/gcf-artifacts/packages/send_email {"name":"projects/reach-6b127/locations/us-central1/operations/8256a046-a88a-495b-889a-8614fceeb865","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"}}
[debug] [2023-08-25T17:11:15.385Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/operations/8256a046-a88a-495b-889a-8614fceeb865 [none]
[debug] [2023-08-25T17:11:15.785Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/operations/8256a046-a88a-495b-889a-8614fceeb865 200
[debug] [2023-08-25T17:11:15.785Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1beta2/projects/reach-6b127/locations/us-central1/operations/8256a046-a88a-495b-889a-8614fceeb865 {"name":"projects/reach-6b127/locations/us-central1/operations/8256a046-a88a-495b-889a-8614fceeb865","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2023-08-25T17:11:16.314Z] <<< [apiv2][status] GET https://us.gcr.io/v2/reach-6b127/gcf/us-central1/tags/list 200
[debug] [2023-08-25T17:11:16.314Z] <<< [apiv2][body] GET https://us.gcr.io/v2/reach-6b127/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"reach-6b127/gcf/us-central1","tags":[]}
[debug] [2023-08-25T17:11:16.314Z] Could not find image for function projects/reach-6b127/locations/us-central1/functions/sendEmail
[debug] [2023-08-25T17:11:16.314Z] Functions deploy failed.
[debug] [2023-08-25T17:11:16.314Z] {
  "endpoint": {
    "id": "sendEmail",
    "project": "reach-6b127",
    "region": "us-central1",
    "entryPoint": "sendEmail",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/reach-6b127/databases/(default)/documents/Submissions/{submissionId}"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"reach-6b127\",\"storageBucket\":\"reach-6b127.appspot.com\"}",
      "GCLOUD_PROJECT": "reach-6b127",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/reach-6b127/locations/us-central1/functions/sendEmail"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "7883599d657af9a48148149abd4555ad6ba9dd5f"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'axios'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1077:15)\n    at Module._load (node:internal/modules/cjs/loader:922:27)\n    at Module.require (node:internal/modules/cjs/loader:1143:19)\n    at require (node:internal/modules/cjs/helpers:110:18)\n    at Object.<anonymous> (/workspace/index.js:3:15)\n    at Module._compile (node:internal/modules/cjs/loader:1256:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1310:10)\n    at Module.load (node:internal/modules/cjs/loader:1119:32)\n    at Module._load (node:internal/modules/cjs/loader:960:12)\n    at Module.require (node:internal/modules/cjs/loader:1143:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "status": 3,
    "code": 3
  }
}
[debug] [2023-08-25T17:11:16.474Z] Error: Failed to update function sendEmail in region us-central1
    at C:\Users\test\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:51:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV1Function (C:\Users\test\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:344:32)
    at async Fabricator.updateEndpoint (C:\Users\test\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:150:13)
    at async handle (C:\Users\test\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:88:17)
[error] 
[error] Error: There was an error deploying functions
